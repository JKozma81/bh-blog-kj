<div class="container-fluid p-5 d-flex flex-column align-items-center new-post-site">
  <h1 class="pb-3">New Post</h1>
  <form method="POST" action="/posts" class="new-post-form needs-validation" novalidate>
    <div class="form-group row">
      <label for="post_title" class="col-sm-2 col-form-label">Title</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="post_title" name="title" required>
      </div>
    </div>
    <div class="form-group row">
      <label for="post_content" class="col-sm-12 col-form-label">Content</label>
      <div class="col-sm-12">
        <textarea class="form-control" id="post_content" rows="3" name="content" required></textarea>
      </div>
    </div>
    <div class="form-group row d-flex justify-content-between">
      <a class="btn btn-primary mb-2" href="/admin" role="button">Discard</a>
      <button type="submit" class="btn btn-primary mb-2">Publish</button>
    </div>

    <div class="alert alert-danger mt-2 title-alert" role="alert">
      Title is Mandatory!
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="alert alert-danger mt-2 content-alert" role="alert">
      Content is Mandatory!
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>


  </form>
</div>

<script>

  (function () {
    'use strict';
    window.addEventListener('load', function () {
      const form = document.querySelector('.new-post-form');
      form.addEventListener('submit', function (event) {
        event.preventDefault();
        console.log(document.querySelector('#post_title').value)
        if (!document.querySelector('#post_title').value) {
          document.querySelector('.title-alert').style.display = 'block';
        }
        if (!document.querySelector('#post_content').value) {
          document.querySelector('.content-alert').style.display = 'block';
        }

        if (document.querySelector('#post_title').value && document.querySelector('#post_content').value) form.submit();
        form.classList.add('was-validated');
      }, false);
    }, false);
  })();
</script>